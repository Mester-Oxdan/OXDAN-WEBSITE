document.getElementById("upload-input").addEventListener("change",(function(r){const e=r.target.files[0],o=new FormData;o.append("file",e);const t=e.name.split(".").pop().toLowerCase();["jpg","jpeg","png","gif"].includes(t)?e.size>5e6?Alert.error("Error! Your File Is Too Large. No More Than 5MB.","Error",{displayDuration:4e3}):fetch("/api/avatar_picture_storage/upload.php",{method:"POST",body:o}).then((r=>r.json())).then((r=>{"success"===r.status?(Alert.success("Success! Image Uploaded Successfully.","Success",{displayDuration:4e3}),document.getElementById("profile-pic").src="/api/avatar_picture_storage/uploads/"+r.file):r.error?Alert.error("Error! "+r.error,"Error",{displayDuration:4e3}):Alert.error("Error! Uploading File Failed.","Error",{displayDuration:4e3})})).catch((r=>{Alert.error("Error! Something Went Wrong. Error Message: "+r.message,"Error",{displayDuration:4e3})})):Alert.error("Error! Only JPG, JPEG, PNG, GIF Files Are Allowed.","Error",{displayDuration:4e3})})),window.onload=function(){fetch("/api/avatar_picture_storage/get_uploaded_image.php").then((r=>r.json())).then((r=>{"success"===r.status&&r.file?document.getElementById("profile-pic").src="/api/avatar_picture_storage/"+r.file:Alert.error("Error! Connecting To Database.","Error",{displayDuration:4e3})})).catch((r=>{Alert.error("Error! Something Went Wrong. Error Message: "+r.message,"Error",{displayDuration:4e3})}))};
