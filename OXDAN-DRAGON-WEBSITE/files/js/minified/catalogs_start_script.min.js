let leftArrow,rightArrow,zoomedLeftArrow,zoomedRightArrow;document.addEventListener("DOMContentLoaded",(function(){leftArrow=document.createElement("span"),leftArrow.innerHTML="&#10094;",leftArrow.classList.add("arrow","left"),leftArrow.addEventListener("click",(function(){o=(o-1+n.length)%n.length,u(n[o].src),n.currentIndex.classList.add("active")})),rightArrow=document.createElement("span"),rightArrow.innerHTML="&#10095;",rightArrow.classList.add("arrow","right"),rightArrow.addEventListener("click",(function(){o=(o+1)%n.length,u(n[o].src)})),zoomedLeftArrow=document.createElement("span"),zoomedLeftArrow.innerHTML="&#10094;",zoomedLeftArrow.classList.add("arrow","left_2"),zoomedLeftArrow.addEventListener("click",(function(){o=(o-1+n.length)%n.length,l(n[o].src)})),zoomedRightArrow=document.createElement("span"),zoomedRightArrow.innerHTML="&#10095;",zoomedRightArrow.classList.add("arrow","right_2"),zoomedRightArrow.addEventListener("click",(function(){o=(o+1)%n.length,l(n[o].src)}));const e=document.getElementById("slideButton"),t=document.getElementById("slideBox");e.addEventListener("click",(function(){t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")}));const n=document.querySelectorAll(".catalog-media img, .catalog-media video"),i=document.querySelector(".main-media"),r=document.createElement("div");r.classList.add("overlay");let c,o=0;n.forEach(((e,t)=>{e.addEventListener("click",(function(){if(n.forEach((e=>{e.classList.remove("active")})),this.classList.add("active"),o=t,i.innerHTML="","VIDEO"===this.nodeName)c=document.createElement("video"),c.src=this.src,c.controls=!0,i.appendChild(c);else{const e=document.createElement("img");e.src=this.src,e.addEventListener("click",(function(){l(e.src)})),i.appendChild(e)}h()}))}));let s=[];function d(e){s=s.filter((t=>t!==e)),s.unshift(e),localStorage.setItem("searchHistory",JSON.stringify(s))}!function(e){const t=document.getElementById("searchResults");if(!t)return;t.innerHTML="",("all"===e||""===e?products:products.filter((t=>t.category.includes(e)))).forEach((e=>{const n=function(e){const t=document.createElement("div");t.classList.add("search-item"),t.style.backgroundImage=`url(${e.image})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.style.cursor="pointer",t.style.zIndex="1";const n=document.createElement("a");n.innerHTML=e.name,t.appendChild(n);const i=document.createElement("b");i.innerHTML=e.price,t.appendChild(i);const r=document.createElement("p");r.innerHTML=e.description,t.appendChild(r);const c=document.createElement("button");return c.classList.add("like-button"),c.innerHTML='\n    <div class="like-wrapper">\n        <div class="ripple"></div>\n        <svg class="heart" width="24" height="24" viewBox="0 0 24 24">\n          <path d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"></path>\n        </svg>\n        <div class="particles" style="--total-particles: 6">\n          <div class="particle" style="--i: 1; --color: #7642F0"></div>\n          <div class="particle" style="--i: 2; --color: #AFD27F"></div>\n          <div class="particle" style="--i: 3; --color: #DE8F4F"></div>\n          <div class="particle" style="--i: 4; --color: #D0516B"></div>\n          <div class="particle" style="--i: 5; --color: #5686F2"></div>\n          <div class="particle" style="--i: 6; --color: #D53EF3"></div>\n        </div>\n    </div>',c.style.right="10px",getFavoriteStateDB(e.number).then((e=>{e?c.classList.add("active"):c.classList.remove("active")})),c.addEventListener("click",(async t=>{t.stopPropagation();const n=await toggleFavoriteDB(e.number);null!==n&&(n?c.classList.add("active"):c.classList.remove("active"))})),t.appendChild(c),t.addEventListener("click",(()=>{d(e.name),window.location.href=function(e){return`../${e.url}`}(e)})),t}(e);t.appendChild(n)}))}("all"),r.addEventListener("click",(function(e){e.target===r&&m()}));const a=document.createElement("span");function l(e){r.innerHTML="",e.endsWith(".mp4")?(c=document.createElement("video"),c.src=e,c.controls=!0,c.autoplay=!0,c.loop=!0):(c=document.createElement("img"),c.src=e,c.classList.add("zoom-media")),r.appendChild(c),r.appendChild(zoomedLeftArrow),r.appendChild(zoomedRightArrow),document.body.appendChild(r),r.classList.add("active"),function(){i.contains(leftArrow)&&i.removeChild(leftArrow);i.contains(rightArrow)&&i.removeChild(rightArrow)}()}function m(){r.classList.remove("active"),r.innerHTML="",h()}function u(e){if(i.innerHTML="",e.endsWith(".mp4"))c=document.createElement("video"),c.src=e,c.controls=!0,i.appendChild(c);else{const t=document.createElement("img");t.src=e,i.appendChild(t)}h()}function h(){i.appendChild(leftArrow),i.appendChild(rightArrow)}a.innerHTML="&times;",a.classList.add("close"),r.appendChild(a),a.addEventListener("click",(function(){m()})),i.addEventListener("click",(function(e){"IMG"!==e.target.nodeName&&"VIDEO"!==e.target.nodeName||l(e.target.src)})),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key?(o=(o-1+n.length)%n.length,r.classList.contains("active")?l(n[o].src):u(n[o].src)):"ArrowRight"===e.key&&(o=(o+1)%n.length,r.classList.contains("active")?l(n[o].src):u(n[o].src))}))}));